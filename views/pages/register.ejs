<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AlbsigBay - Registrierung</title>
    <link rel="icon" type="image/png" href="/public/favicon.png"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/public/style.css"/>
</head>
<body>
<%- include('../components/nav', {page: 'login'}) %>
<main class="container">
    <div class="mt-3">
        <h1 class="display-1">Registrierung</h1>
        <hr>
        <form action="/register" id="registerForm" method="post" class="row g-3 form-validation" novalidate>
            <div class="col-md-4">
                <label for="firstname" class="form-label">Vorname</label>
                <input type="text" class="form-control" name="firstname" id="firstname" required>
                <div class="invalid-feedback">
                    Bitte Vorname eingeben.
                </div>
            </div>
            <div class="col-md-4">
                <label for="name" class="form-label">Nachname</label>
                <input type="text" class="form-control" name="name" id="name" required>
                <div class="invalid-feedback">
                    Bitte Nachname eingeben.
                </div>
            </div>
            <div class="col-md-4">
                <label for="username" class="form-label">Username (optional)</label>
                <div class="input-group has-validation">
                    <span class="input-group-text">@</span>
                    <input type="text" class="form-control" name="username" id="username">
                </div>
            </div>
            <div class="col-md-4">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" name="email" id="email"
                       pattern="^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$"
                       required>
                <div class="invalid-feedback">
                    Bitte Email eingeben.
                </div>
            </div>
            <div class="col-md-4">
                <label for="password" class="form-label">Passwort</label>
                <input type="password" class="form-control" name="password" id="password" required>
                <div class="invalid-feedback">
                    Bitte Passwort eingeben.
                </div>
            </div>
            <div class="col-md-4" id="rePasswordValidate">
                <label for="rePassword" class="form-label">Passwort bestätigen</label>
                <input type="password" class="form-control" name="rePassword" id="rePassword" required>
                <div class="invalid-feedback">
                    Bitte Passwort bestätigen.
                </div>
            </div>
            <div class="col-md-4">
                <label for="state" class="form-label">State</label>
                <select class="form-select" name="state" id="state" required>
                    <option selected disabled value="">Wählen...</option>
                    <option value="Baden-Wuerttemberg">Baden-Württemberg</option>
                    <option value="Bayern">Bayern</option>
                    <option value="Berlin">Berlin</option>
                    <option value="Brandenburg">Brandenburg</option>
                    <option value="Bremen">Bremen</option>
                    <option value="Hamburg">Hamburg</option>
                    <option value="Hessen">Hessen</option>
                    <option value="Mecklenburg-Vorpommern">Mecklenburg-Vorpommern</option>
                    <option value="Niedersachsen">Niedersachsen</option>
                    <option value="Nordrhein-Westfalen">Nordrhein-Westfalen</option>
                    <option value="Rheinland-Pfalz">Rheinland-Pfalz</option>
                    <option value="Saarland">Saarland</option>
                    <option value="Sachsen">Sachsen</option>
                    <option value="Sachsen-Anhalt">Sachsen-Anhalt</option>
                    <option value="Schleswig-Holstein">Schleswig-Holstein</option>
                    <option value="Thüringen">Thüringen</option>
                </select>
                <div class="invalid-feedback">
                    Bitte Bundesland wählen.
                </div>
            </div>
            <div class="col-md-3">
                <label for="zip" class="form-label">Postleitzahl</label>
                <input type="text" class="form-control" name="zip" id="zip"
                       pattern="^(?!01000|99999)(0[1-9]\d{3}|[1-9]\d{4})$" required>
                <div class="invalid-feedback">
                    Bitte Postleitzahl (PLZ) eingeben.
                </div>
            </div>
            <div class="col-md-5">
                <label for="city" class="form-label">Stadt</label>
                <input type="text" class="form-control" name="city" id="city" required>
                <div class="invalid-feedback">
                    Bitte Stadt eingeben.
                </div>
            </div>
            <div class="col-md-5">
                <label for="street" class="form-label">Straße</label>
                <input type="text" class="form-control" name="street" id="street" required>
                <div class="invalid-feedback">
                    Bitte Stadt eingeben.
                </div>
            </div>
            <div class="col-md-2">
                <label for="streetNumber" class="form-label">Hausnummer</label>
                <input type="text" class="form-control" name="streetNumber" id="streetNumber"
                       pattern="\d+" required>
                <div class="invalid-feedback">
                    Bitte Hausnummer eingeben.
                </div>
            </div>
            <div class="col-12">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" name="gdpr" id="invalidCheck" required>
                    <label class="form-check-label" for="invalidCheck">
                        <a href="" data-bs-toggle="modal" data-bs-target="#gdprModal">
                            Datenschutzerklärung
                        </a>
                    </label>
                    Akzeptieren
                    <div class="invalid-feedback">
                        Bitte Datenschutzerklärung akzeptieren.
                    </div>
                </div>
            </div>
            <div class="col-12">
                <button class="btn btn-primary" type="submit">Abschicken</button>
            </div>
        </form>
    </div>
</main>
<%- include('../components/footer', {page: 'login'}) %>
<div class="modal fade" id="gdprModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-labelledby="gdprLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="gdprLabel"><span class="display-5">Datenschutzerklärung</span></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="wide-text text mb-5">
                    <h2>1. Datenschutz auf einen Blick</h2>
                    <h3>Allgemeine Hinweise</h3>
                    <p>
                        Die folgenden Hinweise geben einen einfachen Überblick darüber, was mit Ihren personenbezogenen Daten
                        passiert, wenn Sie unsere Website besuchen. Personenbezogene Daten sind alle Daten, mit denen Sie
                        persönlich identifiziert werden können. Ausführliche Informationen zum Thema Datenschutz entnehmen Sie
                        unserer unter diesem Text aufgeführten Datenschutzerklärung.
                    </p>
                    <h3>Datenerfassung auf unserer Website</h3>
                    <p>
                        <strong>Wer ist verantwortlich für die Datenerfassung auf dieser Website?</strong><br>
                        Die Datenverarbeitung auf dieser Website erfolgt durch den Websitebetreiber. Dessen Kontaktdaten können
                        Sie dem Impressum dieser Website entnehmen.
                    </p>
                    <p>
                        <strong>Wie erfassen wir Ihre Daten?</strong><br>
                        Ihre Daten werden zum einen dadurch erhoben, dass Sie uns diese mitteilen. Hierbei kann es sich z.B. um
                        Daten handeln, die Sie in ein Kontaktformular eingeben.<br>
                        Andere Daten werden automatisch beim Besuch der Website durch unsere IT-Systeme erfasst. Das sind vor
                        allem technische Daten (z.B. Internetbrowser, Betriebssystem oder Uhrzeit des Seitenaufrufs). Die
                        Erfassung dieser Daten erfolgt automatisch, sobald Sie unsere Website betreten.
                    </p>
                    <p>
                        <strong>Wofür nutzen wir Ihre Daten?</strong><br>
                        Ein Teil der Daten wird erhoben, um eine fehlerfreie Bereitstellung der Website zu gewährleisten. Andere
                        Daten können zur Analyse Ihres Nutzerverhaltens verwendet werden.
                    </p>
                    <p>
                        <strong>Welche Rechte haben Sie bezüglich Ihrer Daten?</strong><br>
                        Sie haben jederzeit das Recht unentgeltlich Auskunft über Herkunft, Empfänger und Zweck Ihrer
                        gespeicherten personenbezogenen Daten zu erhalten. Sie haben außerdem ein Recht, die Berichtigung,
                        Sperrung oder Löschung dieser Daten zu verlangen. Hierzu sowie zu weiteren Fragen zum Thema Datenschutz
                        können Sie sich jederzeit unter der im Impressum angegebenen Adresse an uns wenden. Des Weiteren steht
                        Ihnen ein Beschwerderecht bei der zuständigen Aufsichtsbehörde zu.
                    </p>
                    <h3>Analyse-Tools und Tools von Drittanbietern</h3>
                    <p>
                        Beim Besuch unserer Website kann Ihr Surf-Verhalten statistisch ausgewertet werden. Das geschieht vor
                        allem mit Cookies und mit sogenannten Analyseprogrammen. Die Analyse Ihres Surf-Verhaltens erfolgt in
                        der Regel anonym; das Surf-Verhalten kann nicht zu Ihnen zurückverfolgt werden. Sie können dieser
                        Analyse widersprechen oder sie durch die Nichtbenutzung bestimmter Tools verhindern. Detaillierte
                        Informationen dazu finden Sie in der folgenden Datenschutzerklärung.<br>
                        Sie können dieser Analyse widersprechen. Über die Widerspruchsmöglichkeiten werden wir Sie in dieser
                        Datenschutzerklärung informieren.
                    </p>
                    <h2>2. Allgemeine Hinweise und Pflichtinformationen</h2>
                    <h3>Datenschutz</h3>
                    <p>
                        Die Betreiber dieser Seiten nehmen den Schutz Ihrer persönlichen Daten sehr ernst. Wir behandeln Ihre
                        personenbezogenen Daten vertraulich und entsprechend der gesetzlichen Datenschutzvorschriften sowie
                        dieser Datenschutzerklärung.<br><br>
                        Wenn Sie diese Website benutzen, werden verschiedene personenbezogene Daten erhoben. Personenbezogene
                        Daten sind Daten, mit denen Sie persönlich identifiziert werden können. Die vorliegende
                        Datenschutzerklärung erläutert, welche Daten wir erheben und wofür wir sie nutzen. Sie erläutert auch,
                        wie und zu welchem Zweck das geschieht.<br><br>
                        Wir weisen darauf hin, dass die Datenübertragung im Internet (z.B. bei der Kommunikation per E-Mail)
                        Sicherheitslücken aufweisen kann. Ein lückenloser Schutz der Daten vor dem Zugriff durch Dritte ist
                        nicht möglich.
                    </p>
                    <h3>Hinweis zur verantwortlichen Stelle</h3>
                    <p>
                        Die verantwortliche Stelle für die Datenverarbeitung auf dieser Website ist: <br><br>
                        AlbsigBay GmbH & Co. KG<br>
                        Anton-Günther-Straße 51<br>
                        72488 Sigmaringen<br><br>

                        Telefon: +49 (0) 1212-34-34-553<br>
                        E-Mail: support@albsigbay.de<br><br>
                        Verantwortliche Stelle ist die natürliche oder juristische Person, die allein oder gemeinsam mit anderen
                        über die Zwecke und Mittel der Verarbeitung von personenbezogenen Daten (z.B. Namen, E-Mail-Adressen o.
                        Ä.) entscheidet.
                    </p>
                    <h3>Widerruf Ihrer Einwilligung zur Datenverarbeitung</h3>
                    <p>
                        Viele Datenverarbeitungsvorgänge sind nur mit Ihrer ausdrücklichen Einwilligung möglich. Sie können eine
                        bereits erteilte Einwilligung jederzeit widerrufen. Dazu reicht eine formlose Mitteilung per E-Mail an
                        uns. Die Rechtmäßigkeit der bis zum Widerruf erfolgten Datenverarbeitung bleibt vom Widerruf unberührt.
                    </p>
                    <h3>Beschwerderecht bei der zuständigen Aufsichtsbehörde</h3>
                    <p>
                        Im Falle datenschutzrechtlicher Verstöße steht dem Betroffenen ein Beschwerderecht bei der zuständigen
                        Aufsichtsbehörde zu. Zuständige Aufsichtsbehörde in datenschutzrechtlichen Fragen ist der
                        Landesdatenschutzbeauftragte des Bundeslandes, in dem unser Unternehmen seinen Sitz hat. Eine Liste der
                        Datenschutzbeauftragten sowie deren Kontaktdaten können
                        <a style="font-size: 14px;" class="linktext" target="_blank"
                           href="https://www.bfdi.bund.de/DE/Infothek/Anschriften_Links/anschriften_links-node.html">diesem Link
                        </a> entnommen werden.
                    </p>
                    <h3>Recht auf Datenübertragbarkeit </h3>
                    <p>
                        Sie haben das Recht, Daten, die wir auf Grundlage Ihrer Einwilligung oder in Erfüllung eines Vertrags
                        automatisiert verarbeiten, an sich oder an einen Dritten in einem gängigen, maschinenlesbaren Format
                        aushändigen zu lassen. Sofern Sie die direkte Übertragung der Daten an einen anderen Verantwortlichen
                        verlangen, erfolgt dies nur, soweit es technisch machbar ist.
                    </p>
                    <h3>SSL- bzw. TLS-Verschlüsselung</h3>
                    <p>
                        Diese Seite nutzt aus Sicherheitsgründen und zum Schutz der Übertragung vertraulicher Inhalte, wie zum
                        Beispiel Bestellungen oder Anfragen, die Sie an uns als Seitenbetreiber senden, eine SSL-bzw.
                        TLS-Verschlüsselung. Eine verschlüsselte Verbindung erkennen Sie daran, dass die Adresszeile des
                        Browsers von “http://” auf “https://” wechselt und an dem Schloss-Symbol in Ihrer Browserzeile. <br><br>
                        Wenn die SSL- bzw. TLS-Verschlüsselung aktiviert ist, können die Daten, die Sie an uns übermitteln,
                        nicht von Dritten mitgelesen werden.
                    </p>
                    <h3>Auskunft, Sperrung, Löschung</h3>
                    <p>
                        Sie haben im Rahmen der geltenden gesetzlichen Bestimmungen jederzeit das Recht auf unentgeltliche
                        Auskunft über Ihre gespeicherten personenbezogenen Daten, deren Herkunft und Empfänger und den Zweck der
                        Datenverarbeitung und ggf. ein Recht auf Berichtigung, Sperrung oder Löschung dieser Daten. Hierzu sowie
                        zu weiteren Fragen zum Thema personenbezogene Daten können Sie sich jederzeit unter der im Impressum
                        angegebenen Adresse an uns wenden.
                    </p>
                    <h2>3. Datenschutzbeauftragter</h2>
                    <p>
                        Unter Würdigung des Artikel 37 Absatz 1 der Europäischen Datenschutzgrundverordnung (EU-DSGVO) und
                        Paragraph 38 des Bundesdatenschutzgesetzes (BDSG) brauchen wir keinen Datenschutzbeauftragten zu
                        bestellen, da bei uns nur 3 Personen mit der automatisierten Verarbeitung personenbezogener Daten
                        beschäftigt sind.
                    </p>
                    <h2>4. Datenerfassung auf unserer Website</h2>
                    <h3>Cookies</h3>
                    <p>
                        Unsere Internetseite verwendet keine Cookies.
                    </p>
                    <h3>Server-Log-Dateien </h3>
                    <p>
                        Der Provider der Seiten erhebt und speichert automatisch Informationen in so genannten
                        Server-Log-Dateien, die Ihr Browser automatisch an uns übermittelt. Dies sind:<br><br>
                        - Browsertyp und Browserversion<br>
                        - verwendetes Betriebssystem<br>
                        - Referrer URL<br>
                        - Hostname des zugreifenden Rechners<br>
                        - Uhrzeit der Serveranfrage<br>
                        - IP-Adresse<br><br>
                        Eine Zusammenführung dieser Daten mit anderen Datenquellen wird nicht vorgenommen.<br><br>
                        Grundlage für die Datenverarbeitung ist Art. 6 Abs. 1 lit. b DSGVO, der die Verarbeitung von Daten zur
                        Erfüllung eines Vertrags oder vorvertraglicher Maßnahmen gestattet.<br><br>
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schließen</button>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    window.onload = () => {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        let forms = document.querySelectorAll('.form-validation');

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }

                    form.classList.add('was-validated')
                }, false)
            })
    }
</script>
</body>
</html>
